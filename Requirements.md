# InstaRec - 플랫폼 독립적인 요구사항

## 프로젝트 개요
InstaRec은 iOS와 Android에서 동작하는 크로스플랫폼 오디오 녹음 앱입니다.

## 핵심 기능 요구사항

### 1. 지속적인 백그라운드 녹음
- **앱 시작 시 자동 녹음 시작**: 앱이 실행되면 즉시 녹음이 시작되어야 함
- **백그라운드 지속 녹음**: 앱이 백그라운드로 이동해도 녹음이 계속되어야 함
- **앱 종료 시까지 지속**: 사용자가 명시적으로 앱을 종료할 때까지 녹음 유지

### 2. 순환 오디오 버퍼링
- **설정 가능한 버퍼 시간**: 기본 60초, 사용자가 10-300초 범위에서 조정 가능
- **실시간 버퍼링**: 최근 N초간의 오디오를 메모리에 지속적으로 버퍼링
- **자동 오래된 데이터 삭제**: 버퍼 크기를 초과하면 오래된 데이터 자동 삭제

### 3. 오디오 캡처 및 저장
- **캡처 시작**: 체크 버튼 또는 볼륨 버튼으로 캡처 시작
- **캡처 종료**: 체크 버튼 또는 볼륨 버튼으로 캡처 종료
- **저장 내용**: 버퍼된 N초 + 캡처 시간 동안의 오디오
- **파일 형식**: WAV 및 MP3 형식으로 저장

### 4. 하드웨어 연동
- **볼륨 버튼 제어**: 볼륨 업/다운 버튼으로 캡처 시작/종료
- **백그라운드에서도 동작**: 앱이 백그라운드에 있어도 볼륨 버튼 이벤트 감지

### 5. 사용자 인터페이스
- **실시간 상태 표시**: 녹음 상태, 캡처 상태를 실시간으로 표시
- **버퍼 시간 설정**: 사용자가 버퍼 시간을 조정할 수 있는 UI
- **저장된 파일 목록**: 저장된 파일들의 목록과 정보 표시
- **애니메이션**: 녹음 상태를 나타내는 시각적 피드백

### 6. 권한 관리
- **오디오 녹음 권한**: 마이크 접근 권한 요청 및 관리
- **파일 저장 권한**: 저장소 접근 권한 요청 및 관리
- **백그라운드 실행 권한**: 백그라운드에서 지속 실행을 위한 권한

### 7. 파일 관리
- **자동 파일명 생성**: 타임스탬프 기반의 고유한 파일명
- **저장 경로 관리**: 앱 전용 디렉토리에 체계적으로 저장
- **파일 정보 표시**: 저장 시간, 길이, 버퍼 시간 등 정보 제공

## 기술적 요구사항

### 8. 플랫폼 호환성
- **iOS 지원**: iOS 12.0 이상
- **Android 지원**: Android API 21 (Android 5.0) 이상
- **크로스플랫폼**: React Native 기반으로 동일한 코드베이스 사용

### 9. 성능 요구사항
- **메모리 효율성**: 순환 버퍼를 통한 메모리 사용량 최적화
- **배터리 최적화**: 백그라운드 실행 시 배터리 소모 최소화
- **실시간 처리**: 오디오 데이터의 실시간 처리 및 버퍼링

### 10. 안정성 요구사항
- **오류 처리**: 녹음 실패, 권한 거부 등 오류 상황 처리
- **예외 상황 대응**: 메모리 부족, 저장 공간 부족 등 예외 상황 대응
- **데이터 무결성**: 녹음 데이터의 손실 방지

## 제약사항
- **서버 의존성 없음**: 완전한 클라이언트 사이드 앱
- **오프라인 동작**: 네트워크 연결 없이도 모든 기능 동작
- **독립 실행**: 외부 서비스나 API에 의존하지 않음
